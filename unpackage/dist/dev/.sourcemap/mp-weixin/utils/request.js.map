{"version":3,"file":"request.js","sources":["utils/request.js"],"sourcesContent":["const BASE_URL = \"https://tea.qingnian8.com/api/bizhi\"\r\nexport function request(config = {}) {\r\n\tlet {\r\n\t\turl,\r\n\t\tmethod = \"GET\",\r\n\t\theader = {},\r\n\t\tdata = {} //接收一下data \r\n\t} = config\r\n\turl = BASE_URL + url\r\n\theader[\"access-key\"] = \"103721\"\r\n\t//header[\"token\"] = \"12313213123\"\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tuni.request({\r\n\t\t\turl,\r\n\t\t\tdata,\r\n\t\t\tmethod,\r\n\t\t\theader,\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tif (res.data.errCode === 0) {\r\n\t\t\t\t\t//向内走一层 获取数据时就不需要写res.data.data了\r\n\r\n\t\t\t\t\tresolve(res.data)\r\n\r\n\t\t\t\t} else if (res.data.errCode === 400) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '错误提示',\r\n\t\t\t\t\t\tcontent: res.data.errMsg,\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(res.data)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.data.errMsg,\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(res.data)\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tfail: err => {\r\n\t\t\t\treject(err)\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n\r\n}"],"names":["uni"],"mappings":";;AAAA,MAAM,WAAW;AACV,SAAS,QAAQ,SAAS,IAAI;AACpC,MAAI;AAAA,IACH;AAAA,IACA,SAAS;AAAA,IACT,SAAS,CAAE;AAAA,IACX,OAAO,CAAE;AAAA;AAAA,EACX,IAAK;AACJ,QAAM,WAAW;AACjB,SAAO,YAAY,IAAI;AAEvB,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACvCA,kBAAAA,MAAI,QAAQ;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,SAAS,SAAO;AACf,YAAI,IAAI,KAAK,YAAY,GAAG;AAG3B,kBAAQ,IAAI,IAAI;AAAA,QAEhB,WAAU,IAAI,KAAK,YAAY,KAAK;AACpCA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,SAAS,IAAI,KAAK;AAAA,YAClB,YAAY;AAAA,UAClB,CAAM;AACD,iBAAO,IAAI,IAAI;AAAA,QACpB,OAAW;AACNA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO,IAAI,KAAK;AAAA,YAChB,MAAM;AAAA,UACZ,CAAM;AACD,iBAAO,IAAI,IAAI;AAAA,QACf;AAAA,MAED;AAAA,MACD,MAAM,SAAO;AACZ,eAAO,GAAG;AAAA,MACV;AAAA,IACJ,CAAG;AAAA,EACH,CAAE;AAEF;;"}